<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="css/home.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>News site</title>
</head>
<body>
    <!-- Conatiner -->
    <div class="container mx-auto w-3/4 font-serif">
        <!-- Navbar -->
        <ul id="navbar" class="flex flex-row justify-start my-2">
            <% category.forEach(item => { %>
                <li class="my-3 mx-4 py-1 px-2 font-medium cursor-pointer hover:bg-gray-200 rounded" data-id="<%= item.id %>"><%= item.name %> </li>
            <% }) %>
        </ul>
        <hr>

        <!-- Cads list -->
        <ul id="cards" class="flex flex-wrap flex-row my-3 rounded-lg border border-gray-300 bg-gray-100 p-2">
            <% posts.forEach(card => { %>
                <li class="w-1/3 cursor-pointer my-4 pb-2 px-4 border-b-2" data-category="<%= card.category %>" data-id="<%= card.id %> ">
                    <img class="rounded-lg" src="<%= card.thumbnail %>" alt="card-thumbnail">
                    <div class="flex flex-row justify-between">
                        <p class="text-sm font-medium hover:text-blue-500 w-3/4 py-2 px-4"><%= card.title %></p>
                        <p class="text-xs hover:cursor-text w-1/4 py-4 px-2 text-center relative">
                                <%= card.date.date %>
                                <%= card.date.time.slice(0, 5) %>
                        </p>
                    </div>
                </li>
                
            <% }) %>
        </ul>

        <!-- Main content -->
        <div id="content" class="hidden relative">
            <!-- Back button -->
            <svg id="backBtn" xmlns="http://www.w3.org/2000/svg" class="hover:text-blue-600 cursor-pointer left-56 h-7 w-7 top-4 absolute" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd" />
            </svg>

            <!-- Posts -->
            <% posts.forEach(post => { %>
                <div class="post hidden w-3/5 mx-auto" data-id="<%= post.id %>" data-category="<%= post.category %>">
                    <%- post.html %> 
                </div>
            <% }) %>
            <hr class="mb-8">
        </div>

    </div>
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="/js/home.js"></script>
</body>
</html>